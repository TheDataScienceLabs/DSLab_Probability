
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Week 10: Evaluating Random Number Generators &#8212; The Data Science Labs on Probability</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=9c3e77be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=4bca2e18" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=1ae7504c"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'labs/4_rng/lab_07/lab_07_testing_rng';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Week 11-12: Estimating Pi with a RNG" href="../lab_08/lab_08_pi.html" />
    <link rel="prev" title="Week 9: Random Number Generators" href="../lab_06/lab_06_rng.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="The Data Science Labs on Probability - Home"/>
    <script>document.write(`<img src="../../../_static/logo.png" class="logo__image only-dark" alt="The Data Science Labs on Probability - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    About this Course
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction and Review</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../1_intro_and_review/lab_00/lab_00_intro.html">Week 1: Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../1_intro_and_review/lab_01/lab_01_py_review.html">Week 2: Review of Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Frequency</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../2_frequency/lab_02/lab_02_prob_freq.html">Week 3-4: Probability as a Frequency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2_frequency/lab_03/lab_03_quantization.html">Week 5-6: Image Quantization</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Video</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../3_video/lab_04/lab_04_video_intro.html">Week 7: Acquiring and Manipulating Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3_video/lab_05/lab_05_motion.html">Week 8: Motion Detection</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">RNG</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../lab_06/lab_06_rng.html">Week 9: Random Number Generators</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Week 10: Evaluating Random Number Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lab_08/lab_08_pi.html">Week 11-12: Estimating Pi with a RNG</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Bayes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../6_naive_bayes_classifier/naive_bayes_classifier.html">Week 13: Naive Bayes Classifiers</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Extra Materials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../extra_materials/intro_to_breadboards/intro_to_breadboards.html">Introduction to Breadboards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extra_materials/intro_to_latex/intro_to_latex.html">Introduction to <span class="math notranslate nohighlight">\(\LaTeX\)</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extra_materials/pico_datasheet/pico_datasheet.html">Raspberry Pi Pico Pinout</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/TheDataScienceLabs/DSLab_Probability" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/TheDataScienceLabs/DSLab_Probability/issues/new?title=Issue%20on%20page%20%2Flabs/4_rng/lab_07/lab_07_testing_rng.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/labs/4_rng/lab_07/lab_07_testing_rng.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Week 10: Evaluating Random Number Generators</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#content"><span style="color:#d97f00;"> 00. Content </span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#required-hardware"><span style="color:#d97f00;"> 0. Required Hardware </span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-tests-for-rngs"><span style="color:#d97f00;">1. Mathematical Tests for RNGs </span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1"><span style="color:red"> Exercise 1</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monobit-frequency-test">Monobit Frequency Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2"><span style="color:red"> Exercise 2</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monobit-block-frequency-test">Monobit Block Frequency Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3"><span style="color:red"> Exercise 3</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-sum-test">Cumulative Sum Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-4"><span style="color:red"> Exercise 4</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#runs-test">Runs Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-5"><span style="color:red"> Exercise 5</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-6"><span style="color:red"> Exercise 6</span></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reflection"><span style="color:green;"> Reflection </span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="week-10-evaluating-random-number-generators">
<h1>Week 10: Evaluating Random Number Generators<a class="headerlink" href="#week-10-evaluating-random-number-generators" title="Link to this heading">#</a></h1>
<p><font size="6"> Laboratory 7 </font> <br>
<font size="3"> Last updated July 28, 2023 </font></p>
<section id="content">
<h2><span style="color:#d97f00;"> 00. Content </span><a class="headerlink" href="#content" title="Link to this heading">#</a></h2>
<p><font size="5"> Mathematics </font></p>
<ul class="simple">
<li><p>N/A</p></li>
</ul>
<p><font size="5"> Programming Skills </font></p>
<ul class="simple">
<li><p>Functions</p></li>
<li><p>Arrays</p></li>
</ul>
<p><font size="5"> Embedded Systems </font></p>
<ul class="simple">
<li><p>Thonny &amp; MicroPython</p></li>
</ul>
</section>
<section id="required-hardware">
<h2><span style="color:#d97f00;"> 0. Required Hardware </span><a class="headerlink" href="#required-hardware" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Raspberry Pi Pico</p></li>
<li><p>MAX30102 Pulse sensor</p></li>
<li><p>Camera (Arducam HM01B0)</p></li>
<li><p>Ceramic Capacitor</p></li>
<li><p>Breadboard</p></li>
<li><p>USB connector</p></li>
<li><p>At least 8 Wires</p></li>
</ul>
<h3 style="background-color:#6994a2"> Write your name and email below: </h3>
<p><strong>Name:</strong></p>
<p><strong>Email:</strong></p>
</section>
<section id="mathematical-tests-for-rngs">
<h2><span style="color:#d97f00;">1. Mathematical Tests for RNGs </span><a class="headerlink" href="#mathematical-tests-for-rngs" title="Link to this heading">#</a></h2>
<p>Given the importance of random number generators (RNGs) in areas such as cryptography, it is clear that there is a need for secure RNGs. The National Institute of Standards and Technology (NIST) has developed formal tests to assist in evaluating the randomness of a randomly generated binary sequence consisting of 0s and 1s. In this lab, we will implement several of these NIST tests and attempt to determine which of the RNGs from the previous lab perform the best.</p>
<section id="exercise-1">
<h3><span style="color:red"> Exercise 1</span><a class="headerlink" href="#exercise-1" title="Link to this heading">#</a></h3>
<p>Pick a method from the previous lab to create a text file, <code class="docutils literal notranslate"><span class="pre">rng_test_data.txt</span></code> with at least 100 lines of bytes. The more random the data is, the more likely it is to pass the NIST RNG tests. Hypothesize whether or not your data will pass the NIST RNG tests.</p>
<h3 style="background-color:#6994a2"> Write Answer for Exercise 1 Below </h3><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># importing the first 3 rows of the data as a string</span>
<span class="c1"># prints the first 3 values as one string</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;rng_test_data.txt&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">max_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> 
<span class="n">seq</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>

<span class="c1"># importing all data as a floating point number</span>
<span class="c1"># prints the first 3 values of the numpy array</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;rng_test_data.txt&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">y</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="monobit-frequency-test">
<h3>Monobit Frequency Test<a class="headerlink" href="#monobit-frequency-test" title="Link to this heading">#</a></h3>
<p>An ideal binary random number generator would have approximately the same number of ones and zeros in a sequence. The Monobit Frequency Test quantifies how close the fraction of ones in the sequence matches <span class="math notranslate nohighlight">\(\frac{1}{2}\)</span>. The steps of the test are as follows:</p>
<ol class="arabic simple">
<li><p>For each bit within the given binary sequence <span class="math notranslate nohighlight">\(\varepsilon_1,\varepsilon_2,\dots,\varepsilon_{n}\)</span>, where <span class="math notranslate nohighlight">\(\varepsilon_i\)</span> is a binary bit, apply the transformation <span class="math notranslate nohighlight">\(X_i = 2\varepsilon_i - 1\)</span> for <span class="math notranslate nohighlight">\(i=1,2,\dots,n\)</span>. This transformation turns <span class="math notranslate nohighlight">\(0\)</span>s and <span class="math notranslate nohighlight">\(1\)</span>s into <span class="math notranslate nohighlight">\(\pm 1\)</span></p></li>
<li><p>Compute <span class="math notranslate nohighlight">\(S_n\)</span>, the sum of the transformed sequence: <span class="math notranslate nohighlight">\( S_n = \sum_{i=1}^{n} X_i \)</span></p></li>
<li><p>Compute the value of <span class="math notranslate nohighlight">\(s\)</span> using the formula: <span class="math notranslate nohighlight">\( s = \frac{|S_n|}{\sqrt{n}} \)</span></p></li>
<li><p>If <span class="math notranslate nohighlight">\(s &gt; 2.57583\)</span>, then conclude that the sequence <span class="math notranslate nohighlight">\((\varepsilon_1,\varepsilon_2,\dots,\varepsilon_n)\)</span> is non-random. The best-case scenario for this computation is when <span class="math notranslate nohighlight">\(s = 0\)</span>, indicating an equal number of <span class="math notranslate nohighlight">\(1\)</span>s and <span class="math notranslate nohighlight">\(0\)</span>s in the sequence.</p></li>
</ol>
<p>According to NIST, the parameter <span class="math notranslate nohighlight">\(n\)</span> (the length of the binary sequence) should be at least 100.</p>
</section>
<section id="exercise-2">
<h3><span style="color:red"> Exercise 2</span><a class="headerlink" href="#exercise-2" title="Link to this heading">#</a></h3>
<p><strong>Part 1:</strong> In Step 1, describe how the transformation affects the ones and zeros in the original random sequence.</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 2 Part 1 Below </h3><p><strong>Part 2:</strong> If <span class="math notranslate nohighlight">\(|X_1+X_2+\cdots+X_n|\)</span> is large, what does that imply about the original sequence <span class="math notranslate nohighlight">\((\varepsilon_1,\varepsilon_2,\dots,\varepsilon_{n})\)</span>?</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 2 Part 2 Below </h3><p><strong>Part 3:</strong> Implement the Monobit Frequency Test on the test data.</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 2 Part 3 Below </h3></section>
<section id="monobit-block-frequency-test">
<h3>Monobit Block Frequency Test<a class="headerlink" href="#monobit-block-frequency-test" title="Link to this heading">#</a></h3>
<p>This test assesses the proportion of ones and zeros in a random sequence but on a block level, rather than the entire sequence. Here are the steps:</p>
<ol class="arabic simple">
<li><p>Divide the binary data values <span class="math notranslate nohighlight">\(X_1,X_2,\dots,X_{M\cdot N}\)</span> into <span class="math notranslate nohighlight">\(N\)</span> non-overlapping blocks of length <span class="math notranslate nohighlight">\(M\)</span>.</p></li>
<li><p>For each block, calculate the proportion of ones that appear in the block’s length <span class="math notranslate nohighlight">\(M\)</span> sequence. Denote the proportion of ones in block <span class="math notranslate nohighlight">\(i\)</span> as <span class="math notranslate nohighlight">\(\pi_i\)</span> for <span class="math notranslate nohighlight">\(i=1,2,\dots,N\)</span>.</p></li>
<li><p>Compute the value of <span class="math notranslate nohighlight">\(t\)</span> using the formula: <span class="math notranslate nohighlight">\( t = 4M \sum_{i=1}^N \left(\pi_i-\frac12 \right)^2 \)</span></p></li>
<li><p>If <span class="math notranslate nohighlight">\(G(N/2,t/2) &lt; 0.01\)</span>, then conclude that the sequence <span class="math notranslate nohighlight">\((X_1,X_2,\dots,X_{M\cdot N})\)</span> is non-random. The function <span class="math notranslate nohighlight">\(G\)</span> represents the normalized incomplete Gamma function.</p></li>
</ol>
<p>NIST recommends using values such that <span class="math notranslate nohighlight">\(20 \leq M &lt; 100\)</span> and <span class="math notranslate nohighlight">\(N \leq 100\)</span>.</p>
</section>
<section id="exercise-3">
<h3><span style="color:red"> Exercise 3</span><a class="headerlink" href="#exercise-3" title="Link to this heading">#</a></h3>
<p><strong>Part 1:</strong> If <span class="math notranslate nohighlight">\(t\)</span> is large, what does that imply about the original sequence <span class="math notranslate nohighlight">\((X_1,X_2,\dots,X_{M\cdot N})\)</span></p>
<p><strong>Part 2:</strong> Choose appropriate values for <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span>. Implement the Monobit Block Frequency Test on the test data.</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 3 Below </h3><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># here&#39;s how to import and use the normalized incomplete Gamma function.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.special</span><span class="w"> </span><span class="kn">import</span> <span class="n">gammainc</span> <span class="k">as</span> <span class="n">G</span>

<span class="n">G</span><span class="p">(</span><span class="n">N</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">t</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># you will first need to define N and t</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="cumulative-sum-test">
<h3>Cumulative Sum Test<a class="headerlink" href="#cumulative-sum-test" title="Link to this heading">#</a></h3>
<p>This test helps determine if the cumulative sum of the adjusted partial sequences is too large or small. For many non-random sequences, the cumulative sums will deviate from zero. Here are the steps:</p>
<ol class="arabic simple">
<li><p>Apply the transformation <span class="math notranslate nohighlight">\(Y_i = 2X_i - 1\)</span> to the binary data values <span class="math notranslate nohighlight">\(X_1,X_2,\dots,X_{n}\)</span> for <span class="math notranslate nohighlight">\(i=1,2,\dots,n\)</span>.</p></li>
<li><p>Compute the forward partial sums
\begin{align*}
S_1 &amp;= Y_1 \
S_2 &amp;= Y_1+Y_2 \
S_3 &amp;= Y_1+Y_2+Y_3\
\vdots \
S_n &amp;= Y_1 + Y_2 + \cdots Y_n \
\end{align*}
and the backward partial sums
\begin{align*}
T_1 &amp;= Y_n \
T_2 &amp;= Y_n+Y_{n-1} \
\vdots \
T_n &amp;= Y_n + Y_{n-1} + \cdots Y_1 \
\end{align*}</p></li>
<li><p>Find the maximum values:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[z_{\text{forward}} = \max\{|S_1|,|S_2|,\dots,|S_n|\}, \quad z_{\text{backward}} = \max\{|T_1|,|T_2|,\dots,|T_n|\}\]</div>
<ol class="arabic simple" start="4">
<li><p>Compute the values of <span class="math notranslate nohighlight">\(\rho\)</span> using the formula:
\begin{equation*}
\rho = 1 -
\sum_{k=\lfloor \frac{-n/z+1}{4} \rfloor}^{\lfloor \frac{n/z-1}{4} \rfloor}
\left[ \Phi\left(\frac{(4k+1)z}{\sqrt{n}}\right) -
\Phi\left(\frac{(4k-1)z}{\sqrt{n}}\right) \right]  +
\sum_{k=\lfloor \frac{-n/z-3}{4} \rfloor}^{\lfloor \frac{n/z-1}{4} \rfloor}
\left[ \Phi\left(\frac{(4k+3)z}{\sqrt{n}}\right) -
\Phi\left(\frac{(4k+1)z}{\sqrt{n}}\right) \right]
\end{equation*}
where <span class="math notranslate nohighlight">\(z=z_{\text{forward}}\)</span> and <span class="math notranslate nohighlight">\(z=z_{\text{backward}}\)</span>. Here, <span class="math notranslate nohighlight">\(\Phi\)</span> represents the cumulative distribution function (cdf) of the standard normal distribution, and <span class="math notranslate nohighlight">\(\lfloor \cdot \rfloor\)</span> denotes the floor function that returns the largest integer less than or equal to the input.</p></li>
<li><p>If <span class="math notranslate nohighlight">\(\rho &lt; 0.01\)</span>, then conclude that the sequence <span class="math notranslate nohighlight">\((X_1,X_2,\dots,X_{n})\)</span> is non-random.</p></li>
</ol>
</section>
<section id="exercise-4">
<h3><span style="color:red"> Exercise 4</span><a class="headerlink" href="#exercise-4" title="Link to this heading">#</a></h3>
<p>Choose a value for <span class="math notranslate nohighlight">\(n\)</span>. NIST suggests <span class="math notranslate nohighlight">\(n \geq 100\)</span>. Implement the Cumulative Sum Test forwards and backwards on the test data.</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 4 Below </h3><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># here&#39;s how to import and use the cdf of the standard normal distribution</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">norm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># you will first need to define x </span>

<span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="runs-test">
<h3>Runs Test<a class="headerlink" href="#runs-test" title="Link to this heading">#</a></h3>
<p>The runs test measures the degree of oscillation between zero and one in a random sequence. The test formalizes the idea that, for a truly random sequence, the probability of the next value being different from the previous value follows a binomial distribution.</p>
<p>A run is defined as a series of consecutive values of the same kind. For example, the sequence <span class="math notranslate nohighlight">\(0011010000100111\)</span> has 8 runs. Here are the steps of the test:</p>
<ol class="arabic simple">
<li><p>Count the number of runs <span class="math notranslate nohighlight">\(R\)</span> in the sequence <span class="math notranslate nohighlight">\((X_1,X_2,\dots,X_n)\)</span>.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(n_0\)</span> be the number of zeros and <span class="math notranslate nohighlight">\(n_1\)</span> be the number of ones in the sequence. Compute the value of <span class="math notranslate nohighlight">\(q\)</span> using the formula: <span class="math notranslate nohighlight">\( q = \frac{|R - \overline{R}|}{u} \)</span> where <span class="math notranslate nohighlight">\( \overline{R} = \frac{2n_0n_1}{n}+1,\quad u^2=\frac{2n_0n_1(2n_0n_1-n_0-n_1)}{n^2(n+1)}. \)</span> Here,
<span class="math notranslate nohighlight">\(\overline{R}\)</span> represents the expected number of runs in the sequence.</p></li>
<li><p>If <span class="math notranslate nohighlight">\(q &gt; 2.57583\)</span>, then conclude that the sequence <span class="math notranslate nohighlight">\((X_1,X_2,\dots,X_n)\)</span> is non-random.</p></li>
</ol>
</section>
<section id="exercise-5">
<h3><span style="color:red"> Exercise 5</span><a class="headerlink" href="#exercise-5" title="Link to this heading">#</a></h3>
<p>Choose a value for <span class="math notranslate nohighlight">\(n\)</span>. NIST suggests <span class="math notranslate nohighlight">\(n \geq 100\)</span>. Implement the Runs test on the test data.</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 5 Below </h3></section>
<section id="exercise-6">
<h3><span style="color:red"> Exercise 6</span><a class="headerlink" href="#exercise-6" title="Link to this heading">#</a></h3>
<p>We will say that a random sequence passes if all 5 tests (Monobit Frequency, Monobit Block Frequency, Forward Cumulative Sum, Backward Cumulative Sum, and Runs) pass.</p>
<p>Compare the pass rates among the random number generators using Method A, B, C, and D based on at least 10 runs, resulting in a total of 40 random sequences from the collected data.</p>
<p>In two paragraphs, summarize the results, including the details of the parameters chosen for the tests and RNGs. Which generators appear to be performing well? Is there a test that frequently yields failures? Do you believe further testing is necessary? Why or why not?</p>
<h3 style="background-color:#6994a2"> Write Answers for Exercise 6 Below </h3><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to help manage your files,</span>
<span class="c1"># in the same directory as this lab .ipynb file, create a folder called folder_of_data (or whatever name you like)</span>
<span class="c1"># and move rng_test_data.txt into the folder</span>
<span class="c1"># then you can load your data with the updated path to rng_test_data.txt</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;folder_of_data/rng_test_data.txt&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">max_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> 
<span class="n">seq</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>

<span class="c1"># another tip for file naming</span>
<span class="c1"># it is easy to load your files if you name them well</span>
<span class="k">for</span> <span class="n">run_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;method_A/run_</span><span class="si">{</span><span class="n">run_number</span><span class="si">}</span><span class="s2">.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="reflection">
<h2><span style="color:green;"> Reflection </span><a class="headerlink" href="#reflection" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Was your hypothesis about the original <code class="docutils literal notranslate"><span class="pre">rng_test_data.txt</span></code> correct? Explain.</p></li>
<li><p>Which part of the lab did you find the most challenging?</p></li>
<li><p>Which part of the lab was the easiest?</p></li>
</ol>
<h3 style="background-color:#6994a2"> Write Answers for the Reflection Below </h3></section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Rukhin, Andrew, et al. “A Statistical Test Suite for Random and Pseudorandom Number Generators for Cryptographic Applications.” <em>NIST SP 800-22 Rev. 1: A Statistical Test Suite for Random and Pseudorandom Number Generators for Cryptographic Applications</em>, Apr. 2010, <a class="reference external" href="https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-22r1a.pdf">https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-22r1a.pdf</a>.</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./labs/4_rng/lab_07"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../lab_06/lab_06_rng.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Week 9: Random Number Generators</p>
      </div>
    </a>
    <a class="right-next"
       href="../lab_08/lab_08_pi.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Week 11-12: Estimating Pi with a RNG</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#content"><span style="color:#d97f00;"> 00. Content </span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#required-hardware"><span style="color:#d97f00;"> 0. Required Hardware </span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-tests-for-rngs"><span style="color:#d97f00;">1. Mathematical Tests for RNGs </span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1"><span style="color:red"> Exercise 1</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monobit-frequency-test">Monobit Frequency Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2"><span style="color:red"> Exercise 2</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monobit-block-frequency-test">Monobit Block Frequency Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3"><span style="color:red"> Exercise 3</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-sum-test">Cumulative Sum Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-4"><span style="color:red"> Exercise 4</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#runs-test">Runs Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-5"><span style="color:red"> Exercise 5</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-6"><span style="color:red"> Exercise 6</span></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reflection"><span style="color:green;"> Reflection </span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mireille Boutin, Alden Bradford
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>This work is licensed under a 
<a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>